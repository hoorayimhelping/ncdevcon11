<!DOCTYPE html>

<html lang="en">
  <head>
    <title>JavaScript That Doesn't Suck</title>
    <link rel="stylesheet" href="styles/main.css">
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/preso.js"></script>
  </head>

<body>
  <div id="left_nav"><a id="prev" href="">Prev</a></div>
  <div id="right_nav"><a id="next" href="">Next</a></div>
  <div id="container">
    <h1>So how do you fix it?</h1>
    <ul>
      <li>
        <pre>
for (var i = 0; i < 5; i++) {
  (function(j) {
    $('a#link_' + j).click(function() {
      console.log(j);
    });
  })(i);
};
        </pre>
      </li>
      <li>
        <h5>Why does this work?</h5>
        By creating a self-calling anonymous function, you are creation a closure - access to a scope that doesn't exist anymore. That closure passes in the value of i, which is retained by the anonymous click handler
      </li>
    </ul>
  </div>
  <span id="github_link">Code available on <a href="https://github.com/hoorayimhelping/ncdevcon11">github.</a></span>
</body>
</html>
